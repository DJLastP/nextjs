{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/jisooyoon/workspace/nextprofile/profile/app/api/chat/route.js"],"sourcesContent":["export async function POST(req) {\n    try {\n        const { messages } = await req.json();\n\n        const completion = await openai.chat.completions.create({\n            model: 'gpt-3.5-turbo',\n            stream: true,\n            messages: [\n                {\n                    role: 'system',\n                    content: '당신은 윤지수 개발자 본인을 대신해 답변하는 AI입니다.',\n                },\n                ...messages,\n            ],\n        });\n\n        const encoder = new TextEncoder();\n        const stream = new ReadableStream({\n            async start(controller) {\n                for await (const chunk of completion) {\n                    const content = chunk.choices?.[0]?.delta?.content;\n                    if (content) {\n                        controller.enqueue(encoder.encode(content));\n                    }\n                }\n                controller.close();\n            },\n        });\n\n        return new Response(stream, {\n            headers: {\n                'Content-Type': 'text/plain; charset=utf-8',\n            },\n        });\n    } catch (err) {\n        console.error('[GPT ERROR]', err);\n        return new Response('⚠️ GPT API 호출 중 오류가 발생했습니다.\\n' + err.message, {\n            status: 500,\n        });\n    }\n}\n"],"names":[],"mappings":";;;AAAO,eAAe,KAAK,GAAG;IAC1B,IAAI;QACA,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEnC,MAAM,aAAa,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpD,OAAO;YACP,QAAQ;YACR,UAAU;gBACN;oBACI,MAAM;oBACN,SAAS;gBACb;mBACG;aACN;QACL;QAEA,MAAM,UAAU,IAAI;QACpB,MAAM,SAAS,IAAI,eAAe;YAC9B,MAAM,OAAM,UAAU;gBAClB,WAAW,MAAM,SAAS,WAAY;oBAClC,MAAM,UAAU,MAAM,OAAO,EAAE,CAAC,EAAE,EAAE,OAAO;oBAC3C,IAAI,SAAS;wBACT,WAAW,OAAO,CAAC,QAAQ,MAAM,CAAC;oBACtC;gBACJ;gBACA,WAAW,KAAK;YACpB;QACJ;QAEA,OAAO,IAAI,SAAS,QAAQ;YACxB,SAAS;gBACL,gBAAgB;YACpB;QACJ;IACJ,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO,IAAI,SAAS,kCAAkC,IAAI,OAAO,EAAE;YAC/D,QAAQ;QACZ;IACJ;AACJ","debugId":null}}]
}