{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///Users/jisooyoon/workspace/nextprofile/profile/app/api/chat/route.js"],"sourcesContent":["import OpenAI from 'openai';\nimport { projects } from '@/data/projects';\n\nconst openai = new OpenAI({\n    apiKey: process.env.OPENROUTER_API_KEY,\n    baseURL: 'https://openrouter.ai/api/v1',\n});\n\nfunction formatProjectData(projects) {\n    return projects.map(p => {\n        return `ğŸ“Œ ${p.name}  \nğŸ”¹ ê¸°ìˆ  ìŠ¤íƒ: ${p.stack.join(', ')}  \nğŸ”¹ ì—­í• : ${p.role}  \nğŸ”¹ ê¸°ê°„: ${p.period}  \nğŸ”¹ ì£¼ìš” ê¸°ëŠ¥: ${p.features.join(', ')}  \n`;\n    }).join('\\n\\n');\n}\n\nexport async function POST(req) {\n    try {\n        const { messages } = await req.json();\n\n        const completion = await openai.chat.completions.create({\n            model: 'openai/gpt-3.5-turbo',\n            stream: true,\n            messages: [\n                {\n                    role: 'system',\n                    content: `ë‹¹ì‹ ì€ ê°œë°œì ìœ¤ì§€ìˆ˜ì˜ AI ë¹„ì„œì…ë‹ˆë‹¤. ë‹¤ìŒ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì§ˆë¬¸ì—ë§Œ ë‹µë³€í•˜ì„¸ìš”:\\n\\n${formatProjectData(projects)}\\n\\në‹¤ë¥¸ ì£¼ì œì—ëŠ” ì‘ë‹µí•˜ì§€ ë§ˆì„¸ìš”.`,\n                },\n                ...messages,\n            ],\n        });\n\n        const encoder = new TextEncoder();\n        const stream = new ReadableStream({\n            async start(controller) {\n                for await (const chunk of completion) {\n                    const content = chunk.choices?.[0]?.delta?.content;\n                    if (content) {\n                        controller.enqueue(encoder.encode(content));\n                    }\n                }\n                controller.close();\n            },\n        });\n\n        return new Response(stream, {\n            headers: {\n                'Content-Type': 'text/plain; charset=utf-8',\n            },\n        });\n    } catch (err) {\n        console.error('[GPT API Error]', err);\n        return new Response('GPT í˜¸ì¶œ ì˜¤ë¥˜: ' + err.message, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;AAAA;;;;;;;;AAGA,MAAM,SAAS,IAAI,kJAAA,CAAA,UAAM,CAAC;IACtB,QAAQ,QAAQ,GAAG,CAAC,kBAAkB;IACtC,SAAS;AACb;AAEA,SAAS,kBAAkB,SAAQ;IAC/B,OAAO,UAAS,GAAG,CAAC,CAAA;QAChB,OAAO,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC;UAClB,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM;OACxB,EAAE,EAAE,IAAI,CAAC;OACT,EAAE,EAAE,MAAM,CAAC;UACR,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,MAAM;AAClC,CAAC;IACG,GAAG,IAAI,CAAC;AACZ;AAEO,eAAe,KAAK,GAAG;IAC1B,IAAI;QACA,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;QAEnC,MAAM,aAAa,MAAM,OAAO,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACpD,OAAO;YACP,QAAQ;YACR,UAAU;gBACN;oBACI,MAAM;oBACN,SAAS,CAAC,kDAAkD,EAAE,kBAAkB,UAAU,qBAAqB,CAAC;gBACpH;mBACG;aACN;QACL;QAEA,MAAM,UAAU,IAAI;QACpB,MAAM,SAAS,IAAI,eAAe;YAC9B,MAAM,OAAM,UAAU;gBAClB,WAAW,MAAM,SAAS,WAAY;oBAClC,MAAM,UAAU,MAAM,OAAO,EAAE,CAAC,EAAE,EAAE,OAAO;oBAC3C,IAAI,SAAS;wBACT,WAAW,OAAO,CAAC,QAAQ,MAAM,CAAC;oBACtC;gBACJ;gBACA,WAAW,KAAK;YACpB;QACJ;QAEA,OAAO,IAAI,SAAS,QAAQ;YACxB,SAAS;gBACL,gBAAgB;YACpB;QACJ;IACJ,EAAE,OAAO,KAAK;QACV,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,IAAI,SAAS,gBAAgB,IAAI,OAAO,EAAE;YAAE,QAAQ;QAAI;IACnE;AACJ","debugId":null}}]
}